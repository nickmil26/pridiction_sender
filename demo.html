<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Betting Card Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background: #222;
            color: white;
            margin: 0;
            padding: 20px;
        }

        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* Wrapper box */
        .card-box {
            background: linear-gradient(to bottom, #FFD700, #FFA500); /* Yellow gradient */
            padding: 10px;
            display: inline-block;
            border-radius: 5px;
        }

        /* Betting Card */
        .card {
            width: 250px;
            height: 250px; /* Adjusted for new fields */
            padding: 8px; /* Compact spacing */
            background: #1a1a2e;
            color: white;
            font-weight: bold;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .card h3 {
            margin: 0;
            padding: 5px;
            font-size: 16px;
            letter-spacing: 1px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
        }

        .card p {
            margin: 5px 0;
            font-size: 14px;
        }

        .divider {
            border-top: 1px solid rgba(255, 255, 255, 0.3);
            margin: 5px 0;
        }

        .input-group {
            margin: 5px 0;
        }

        .time-inputs {
            display: flex;
            justify-content: center;
            gap: 5px;
        }

        /* Default input size (for Time, Safe Cashout, Coefficient) */
input {
    width: 60px;  /* Small size for time-related inputs */
    padding: 6px;
    border: none;
    border-radius: 5px;
    text-align: center;
}

/* Larger input fields for Header, Game, and Bet Advice */
.large-input {
    width: 200px; /* Increase size */
    padding: 10px;
    font-size: 16px; /* Make text more readable */
}


        .download-btn {
            background: #ffcc00;
            color: black;
            border: none;
            padding: 8px;
            margin-top: 10px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }

        .download-btn:hover {
            background: #e6b800;
        }
        
        
        /* Style for all input fields and dropdown */
.styled-input {
    width: 200px; /* Same size as other fields */
    padding: 8px;
    font-size: 16px;
    border: 2px solid white;
    border-radius: 5px;
    background-color: black; /* Matches input fields */
    color: white;
    text-align: center;
    appearance: none; /* Removes default dropdown arrow */
    cursor: pointer;
}

/* Custom dropdown arrow */
.styled-input:after {
    content: "‚ñº"; /* Custom dropdown arrow */
    position: absolute;
    right: 10px;
    color: white;
}

/* Hover and Focus Effects */
.styled-input:hover,
.styled-input:focus {
    border-color: #ffcc00;
    outline: none;
}

    </style>
</head>
<body>

    <h2>Betting Card Generator</h2>

    <div class="container">
        <!-- Wrapper box with gradient background -->
        <div class="card-box">
            <div class="card" id="card">
                <h3 id="header">RUDRA PRIDICTION ENGINE</h3>
                <p><strong>üéÆ GAME:</strong> <span id="game">Lucky Jet</span></p>
                <p><strong>‚è≥ TIME:</strong> <span id="time">12:45:10</span></p>
                <p><strong>‚úÖ SAFE CASHOUT:</strong> <span id="sureshot">2x</span></p>
                <p><strong>‚ö° COEFFICIENT:</strong> <span id="coefficient">5x</span></p>
                <div class="divider"></div>
                <p><strong>üí∞ When Graph Down And BigX Go For 3x Only</strong></p>
                <div class="divider"></div>
                <p><strong>Play At Your Own Risk</strong> <span id="bet-advice"></span></p>
            </div>
        </div>

        <!-- Input Fields -->
        <div class="input-group">
            <label>Header:</label>
            <input type="text" id="header-input" class="large-input" placeholder="Enter Header" oninput="updateCard()">
        </div>
       <div class="input-group">
    <label>Select Game:</label>
    <select id="game-input" class="styled-input" onchange="updateCard()">
        <option value="Lucky Jet">Lucky Jet</option>
        <option value="Aviator">Aviator</option>
    </select>
</div>

        <div class="input-group">
            <label>Time:</label>
            <div class="time-inputs">
                <input type="number" id="hour-input" placeholder="HH" min="0" max="23" oninput="updateCard()">
                <input type="number" id="minute-input" placeholder="MM" min="0" max="59" oninput="updateCard()">
                <input type="number" id="second-input" placeholder="SS" min="0" max="59" oninput="updateCard()">
            </div>
        </div>
        <div class="input-group">
            <label>Sureshot:</label>
            <input type="text" id="sureshot-input" placeholder="Enter Sureshot" oninput="updateCard()">
        </div>
        <div class="input-group">
            <label>Coefficient:</label>
            <input type="text" id="coefficient-input" placeholder="Enter Coefficient" oninput="updateCard()">
        </div>
        <div class="input-group">
            <label>Bet Advice:</label>
            <input type="text" id="bet-advice-input" class="large-input" placeholder="Enter Bet Advice" oninput="updateCard()">
        </div>

        <!-- Download Button -->
        <button class="download-btn" onclick="downloadAndSend()">Download & Send</button>
         <p id="message"></p>
    </div>

    <script>
        function updateCard() {
            document.getElementById("header").innerText = document.getElementById("header-input").value || "ANGLES ENGINE";
            document.getElementById("game").innerText = document.getElementById("game-input").value || "Lucky Jet";

            // Construct time from separate inputs
            let hour = document.getElementById("hour-input").value.padStart(2, "0") || "12";
            let minute = document.getElementById("minute-input").value.padStart(2, "0") || "45";
            let second = document.getElementById("second-input").value.padStart(2, "0") || "10";
            document.getElementById("time").innerText = `${hour}:${minute}:${second}`;

            document.getElementById("sureshot").innerText = document.getElementById("sureshot-input").value || "2x";
            document.getElementById("coefficient").innerText = document.getElementById("coefficient-input").value || "5x";
            document.getElementById("bet-advice").innerText = document.getElementById("bet-advice-input").value || "";
        }

        function downloadAndSend() {
            html2canvas(document.querySelector(".card-box"), {
                backgroundColor: null,
                scale: 2
            }).then(canvas => {
                let imageData = canvas.toDataURL("image/png");

                let link = document.createElement("a");
                link.href = imageData;
                link.download = "betting_card.png";
                link.click();

                // Convert base64 to Blob
                fetch(imageData)
                .then(res => res.blob())
                .then(blob => {
                    let formData = new FormData();
                    formData.append("image", blob, "betting_card.png");

                    document.getElementById("message").innerText = "Sending image to Telegram...";

                    // Send image to Flask server
                    fetch("http://127.0.0.1:5000/upload", {
                        method: "POST",
                        body: formData
                    })
                    .then(response => response.text())
                    .then(data => {
                        document.getElementById("message").innerText = "Image sent successfully!";
                    })
                    .catch(error => {
                        document.getElementById("message").innerText = "Failed to send image!";
                    });
                });
            });
        }
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

</body>
</html>
